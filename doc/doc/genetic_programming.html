<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="description" content="Tutorial on how to utilize Genetic Programming with JGAP.">
<meta name="keywords" content="java, genetic algorithms, framework, genetic programming, gp, population
                   optimization, evolutionary, open source, genes, alleles, chromosomes">
<link rel="stylesheet" href="../jgap.css" type="text/css">
<title>Genetic Programming with JGAP</title>
</head>

<body class="documentText">

<h1 class="docTitle">Genetic Programming with JGAP</h1>
<a class="homeLink" href="index.html">

<p align="center">[Documentation Index]</a> </p>

<hr>

<p class="text">Genetic Programming (GP) is supposed to be introduced by John
Koza. GP is sort of different to Genetic Algorithms (GA) as GP is more complex
than GA. GP is about evolving programs with a given set of commands. Each
command is assigned a number of parameters. That way, programs can be
constructed. They are represented internally as a tree. But you do not have to
cope with the internal representation. For you it is only important to know that
you can write sort of programs. Each program contains only those commands and
terminals (such as numbers or Boolean values) that you define to be used! It is
even possible evolving full-blown Java programs (see the <a href="http://jgap.sourceforge.net/doc/robocode/robocode.html">Robocode
example</a>). </p>

<p class="text">GP was introduced with JGAP 3.0. This document presents some useful information about how to utilize JGAP for GP. </p>

<h3 class="subheader">JGAP's Philosophy</h3>

<p class="text">The main philosophy that was setup before extending JGAP towards
GP was to reach the goal by adding parts to GA to get GP. Thus: GA + x =GP, with
x being the added parts.
 </p>

<h3 class="subheader">A first start</h3>

<p class="text">To get a feeling of how to implement your GP-Program with JGAP,
please have a look at the example located in class&nbsp;<i>examples.gp.MathProblem</i>.
This example tries to find a formula for a given truth table (X/Y value pairs)
and a given set of operators (such as +, -, * etc). The mentioned example class
also contains a fitness function named <i>FormulaFitnessFunction</i>. A more
complex example can be found in class <i>examples.gp.Fibonacci </i>and in class <i>examples.gp.anttrail.AntTrailProblem</i>.
 </p>

<p class="text">The math example at a glance:
 </p>

<p class="text">1. Create configuration
 </p>

<p class="Listing">
<tt>
  /**<br>
  &nbsp;* Starts the example<br>
  &nbsp;* @param args ignored<br>
  &nbsp;* @throws Exception<br>
  &nbsp;*/<br>
  public static void main(String[] args) throws Exception {<br>
&nbsp; GPConfiguration config = new GPConfiguration();<br>
  &nbsp; config.setGPFitnessEvaluator(new DeltaGPFitnessEvaluator());<br>
&nbsp; config.setMaxInitDepth(6);<br>
&nbsp; config.setPopulationSize(100);<br>
&nbsp; config.setFitnessFunction(new MathProblem.FormulaFitnessFunction());<br>
&nbsp; ... // continued below<br>

</tt>
 </p>

<p class="text">&nbsp; </p>

<p class="text">2. Create initial Genotype (continued from above method <i>main</i>): </p>

<p class="Listing">    
<tt>&nbsp; GPGenotype gp = create(config);<br>
}
<br>
<br>
<br>
  public static GPGenotype create(GPConfiguration a_conf) throws InvalidConfigurationException {<br>
&nbsp; Class[] types = {<br>
&nbsp;&nbsp;&nbsp; CommandGene.FloatClass};<br>
&nbsp; Class[][] argTypes = {<br>
&nbsp;&nbsp;&nbsp; {}<br>
&nbsp; };<br>
&nbsp; // Define the commands and terminals the GP is allowed to use.<br>
&nbsp; // -----------------------------------------------------------<br>
&nbsp; CommandGene[][] nodeSets = {<br>
  &nbsp;&nbsp;&nbsp; {<br>
  &nbsp;&nbsp;&nbsp; vx = Variable.create(a_conf, "X", CommandGene.FloatClass),<br>
  &nbsp;&nbsp;&nbsp; new AddCommand(a_conf, CommandGene.FloatClass),<br>
  &nbsp;&nbsp;&nbsp; new SubtractCommand(a_conf, CommandGene.FloatClass),<br>
  &nbsp;&nbsp;&nbsp; new MultiplyCommand(a_conf, CommandGene.FloatClass),<br>
  &nbsp;&nbsp;&nbsp; new DivideCommand(a_conf, CommandGene.FloatClass),<br>
  &nbsp;&nbsp;&nbsp; new SinCommand(a_conf, CommandGene.FloatClass),<br>
  &nbsp;&nbsp;&nbsp; new CosCommand(a_conf, CommandGene.FloatClass),<br>
  &nbsp;&nbsp;&nbsp; new ExpCommand(a_conf, CommandGene.FloatClass),<br>
&nbsp;&nbsp;&nbsp; // Use terminal with possible value from 2.0 to 10.0 decimal<br>
&nbsp;&nbsp;&nbsp; new Terminal(conf, CommandGene.FloatClass, 2.0d, 10.0d, false),<br>
&nbsp; &nbsp; }<br>
  &nbsp; };<br>
  &nbsp; Random random = new Random();<br>
  &nbsp; // Randomly initialize function data (X-Y table) for x^4+x^3+x^2+x.<br>
&nbsp; // This is problem-specific and not necessary in other cases.<br>
&nbsp; // ----------------------------------------------------------------<br>
  &nbsp; for (int i = 0; i &lt; 20; i++) {<br>
  &nbsp;&nbsp;&nbsp; float f = 2.0f * (random.nextFloat() - 0.5f);<br>
  &nbsp;&nbsp;&nbsp; x[i] = new Float(f);<br>
  &nbsp;&nbsp;&nbsp; y[i] = f * f * f * f + f * f * f + f * f - f;<br>
  &nbsp;&nbsp;&nbsp; System.out.println(i + ") " + x[i] + "   " + y[i]);<br>
  &nbsp; }<br>
  &nbsp; // Create genotype with initial population.<br>
&nbsp; // Allow max. 100 nodes within one program.<br>
&nbsp; // ----------------------------------------<br>
  &nbsp; return randomInitialGenotype(a_conf, types, argTypes, nodeSets, 100,
  true);<br>
  }
</tt> </p>

<p class="text">3. Start the evolution and output the result: (continued in above method <i>main</i>):&nbsp; </p>

<p class="Listing">    <tt>// Do 100 evolutions in a row.<br>
// ---------------------------<br>
&nbsp; gp.evolve(100);<br>
// Output best solution found.<br>
// ---------------------------<br>
gp.outputSolution(gp.getAllTimeBest());<br>
<br>
    } // end of method &quot;main&quot;
<br>
</tt> </p>

<p class="text">4. Optional: Implement your own functions and terminals </p>

<p class="text">Please have a look at packages <i>org.jgap.gp.function</i>, <i>org.jgap.gp.terminal</i>
and examples.gp.anttrail for available GP functions and terminals. There you can
see how to implement your own classes and use them in the above step 2 during
setup. </p>

<p class="text">You can benefit from looking at the examples mentioned above. Go
for the code and you'll get a better feeling. It's very easy using JGAP for GP! </p>

<p class="copyright">Copyright © 2006-2007 <a href="http://www.klaus-meffert.com" target="_blank"> Klaus
Meffert</a>. All rights reserved. </p>

<hr>
<a class="homeLink" href="index.html">

<p align="center">[Documentation Index]</a> <br>
<a href="http://sourceforge.net/projects/jgap"><img
src="http://sourceforge.net/sflogo.php?group_id=11618&amp;type=5" width="210" height="62"
border="0" alt="SourceForge Logo"></a> </p>
</body>
</html>
