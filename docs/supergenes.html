<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">

<title>Supergenes and genetic algorithms in JGap</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
</head>

<body class="documentText">

<h1 class="docTitle">Supergenes</h1>
<center>
      <a class="homeLink" href="./index.html">[Documentation Index]</a>
    </center>
    <hr>

<h2 class="docTitle">The problem </h2>

<p>In some tasks, you may have several closely
dependent genes that cannot mutate in arbitrary way. Instead, the
valid set of values for each gene-component depends from the
current value of the related genes - part of the same system.
Such group of the related genes can make only part of the whole
genome. Using default <em>JGap</em> mechanism means that a
mutation, breaking the internal rules of the interdependent gene
group, will lead to discarding the whole such chromosome. This
finally slows the evolution, reducing the system performance.</p>

<h2 class="docTitle">The solution: <em>Supergenes</em></h2>

<p>In biology, <em>Supergene</em> represents
several genes, which control closely related aspects of the
phenotype. The living cell is a complex machinery, and the
problem of gene dependency is frequent. For example, part of the
plant photosyntetic system is a so-called ATP synthase. This is a
complex formation, consisting of several proteins - components.
If some components mutate, becoming useless, the ATP synthase
cannot longer be created. The most surprising is that <em>the
other</em> proteins that have not been touched by mutation, are
also suppressed. Probably having a damaged ATP synthase is worse
than having no ATP synthase at all. So, the gene group,
responsible for ATP synthase, mutates as a single unit: ATP
synthase absent/ATP synthase present. </p>

<p>It is possible to suggest an example from
mathematics. Imagine that we use <em>JGap</em> to find the values
<em>a</em>, <em>b, c </em>and<em> d, </em>fitting the
experimental data into real function</p>

<p align="center"><img
src="supergene_files/images/supergene_formula.gif"></p>

<p>If we only restrict x &gt; 0, we must also
restrict <em>a</em> &gt;= <em>b</em>, but <em>c</em> and <em>d </em>are
not dependent from this condition. So <em>a</em> and <em>b</em>
can be placed in a supergene, setting validity condition <em>a
&gt;= b</em>.</p>

<p>The old <a href="tutorial.html">MinimizeMakeChange</a>
example can also be extended to make supergenes useful: lets
suppose that the number of pennies and nickels must be <em>both</em>
even or <em>both</em> odd.</p>

<p>JGap Supergene mutates only in such way, that
the allele combination remains valid. Mutations, that make allele
combination invalid, are rejected inside the method, responsible
for creating the mutated version. For the efficient use, you must
combine several genes and supergenes inside the same chromosome.
Supergene components can also be a Supergenes, creating the
tree-like structures in this way. </p>

<h2 class="docTitle">Using the supergenes with JGap</h2>

<p><strong>For better understanding of this
chapter, we recommend to read about the </strong><a
href="tutorial.html"><strong>MinimizeMakeChange</strong></a><strong>
example first.</strong></p>

<p>In JGap, the supergene support is implemented
in package org.jgap.supergenes. The simpliest way to create a
supergene is to derive it from the <em>abstractSupergene </em>class,
overriding<em> isValid() </em>method. For example, if we need a
supergene, holding the two <em>IntegerGenes</em> (nickels and
pennies) and ensuring condition <em>nickels mod 2 = pennies mod
2:</em></p>

<pre><font color="#000080">import</font><font color="#000000"> org.jgap.impl.IntegerGene;
</font><font color="#000080">import</font><font color="#000000"> org.jgap.supergenes.abstractSupergene;
</font><font color="#000080">import</font><font color="#000000"> org.jgap.Gene;

</font><font color="#008000">/** Supergene to hold quarters and nickels. Valid if the number of
 * nickels and pennies is either both odd or both even. */</font><font
color="#000000">

</font><font color="#000080">public</font><font color="#000000"> </font><font
color="#000080">class</font><font color="#000000"> NickelsPenniesSupergene </font><font
color="#000080">extends</font><font color="#000000"> abstractSupergene {</font></pre>

<pre><font color="#008000">    /* It is important to provide these two constructors: */
</font><font color="#000000">    </font><font color="#000080">public</font><font
color="#000000"> NickelsPenniesSupergene() {}
    </font><font color="#000080">public</font><font
color="#000000"> NickelsPenniesSupergene( Gene[] a_genes )
     {
         </font><font color="#000080">super</font><font
color="#000000">(a_genes);
     }

</font><font color="#008000">    /* Now just check nickels mod 2 = pennies mod 2: */</font><font
color="#000000">
    </font><font color="#000080">public</font><font
color="#000000"> </font><font color="#000080">boolean</font><font
color="#000000"> isValid(Gene [] genes, Supergene s)
    {
         IntegerGene nickels = (IntegerGene)  genes[</font><font
color="#800000">0</font><font color="#000000">];
         IntegerGene pennies  = (IntegerGene) genes[</font><font
color="#800000">1</font><font color="#000000">];
         </font><font color="#000080">boolean</font><font
color="#000000"> valid = nickels.intValue() % </font><font
color="#800000">2</font><font color="#000000"> == pennies.intValue() % </font><font
color="#800000">2</font><font color="#000000">;
         </font><font color="#000080">return</font><font
color="#000000"> valid;
    }
}</font></pre>

<p>Now, the sample gene array, consisting of one supergene and
two ordinary genes for quarters and dimes, is created in the
following way:</p>

<pre><font color="#000000">        Gene[] sampleGenes = </font><font
color="#000080">new</font><font color="#000000"> Gene[</font><font
color="#800000">3</font><font color="#000000">];
        sampleGenes[DIMES]    = getDimesGene ();
        sampleGenes[QUARTERS] = getQuartersGene ();

        sampleGenes[</font><font color="#800000">2</font><font
color="#000000">] = </font><font color="#000080">new</font><font
color="#000000"> NickelsPenniesSupergene(
            </font><font color="#000080">new</font><font
color="#000000"> Gene[] {
            getNickelsGene (),
            getPenniesGene (),
	}</font></pre>

<p>Compare this with the non-supergene version:</p>

<pre><font color="#000000">        Gene[] sampleGenes = </font><font
color="#000080">new</font><font color="#000000"> Gene[</font><font
color="#800000">4</font><font color="#000000">];
        sampleGenes[DIMES] = getDimesGene(); 
        sampleGenes[NICKELS] = getNickelsGene(); 
        sampleGenes[QUARTERS] = getQuartersGene(); 
        sampleGenes[PENNIES] = getPenniesGene(); </font>
</pre>

<p>It is trivial to create a chromosome from the gene array and
to get a solution of the task (see the <a
href="supergene_files/supergene_source.zip">complete java source
code</a>).</p>

<h2 class="docTitle">Are supergenes useful?</h2>

<p>I other words, can they increase the application performance
in a real JGap applications? Maybe this conception is interesting
just from the point of theoretical biology? To ansver this
question, we did a <a
href="supergene_files/supergene_performance.html">performance
tests</a>. From these tests we concluded the following:</p>

<blockquote>
    <p>The supergene conception can significantly (up to 3 times
    in the most boundary cases) increase the evolution speed. It
    can also increase the accuracy of solution for the small
    populations. However these effects are dependent from the
    chosen population size and maximal number of iterations.
    While in some cases the use of supergenes can be definitely
    sensible, we would recommend to try both supergene and
    non-supergene versions for your specific task. </p>
</blockquote>

<p align="center"><a href="index.html" class="homeLink">[Documentation
Index]</a> </p>

<p class="copyright">This page is copyright © 2004 <a
href="http://sourceforge.net/users/klausikm/">Klaus Meffert</a>
and <a href="http://sourceforge.net/users/audriusa/">Audrius
Meskauskas</a>, GNU free documentation <a
href="http://www.gnu.org/licenses/fdl.html">license</a></p>

<hr>

<p align="center"><a href="index.html" class="homeLink">[Documentation
Index]</a> <br>
<a href="http://sourceforge.net/projects/jgap/"><img
src="http://sourceforge.net/sflogo.php?group_id=11618&amp;type=5"
alt="SourceForge Logo" border="0" width="210" height="62"></a> </p>
</body>
</html>
